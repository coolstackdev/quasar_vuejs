(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["60612981"],{4876:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"AlarmSetup"},[s("q-page",{staticClass:"fixed-padding"},[s("div",{staticClass:"screen"},[s("div",{staticClass:"content"},[s("div",{staticClass:"q-pa-md"},[s("div",{staticClass:"row screen-row"},[s("div",{staticClass:"col-2"}),s("div",{staticClass:"col-10"},[s("p",{staticClass:"fontsize-16"},[t._v("\n                "+t._s(t.$t("ALARM_CONFIG_STR"))+"\n              ")])])]),s("div",{staticClass:"row screen-row"},[s("div",{staticClass:"col-6"},[s("p",{staticClass:"fontsize-12"},[t._v("\n                "+t._s(t.$t("SYS_ALARM_SU_STR"))+"\n              ")])]),s("div",{staticClass:"col-6"},[s("q-select",{attrs:{color:"teal",filled:"",options:t.options},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)]),s("div",{staticClass:"row screen-row checkboxes"},[s("div",{staticClass:"col-6"},[s("q-checkbox",{staticClass:"fontsize-16",attrs:{label:t.$t("M_ALARMS_STR")+1},model:{value:t.setting.alarm1,callback:function(e){t.$set(t.setting,"alarm1",e)},expression:"setting.alarm1"}})],1),s("div",{staticClass:"col-6"},[s("q-checkbox",{staticClass:"fontsize-20",attrs:{label:t.$t("W_AL_OUT_STR")+1},model:{value:t.setting.out1,callback:function(e){t.$set(t.setting,"out1",e)},expression:"setting.out1"}})],1)]),s("div",{staticClass:"row screen-row checkboxes"},[s("div",{staticClass:"col-6 "},[s("q-checkbox",{staticClass:"fontsize-20",attrs:{label:t.$t("M_ALARMS_STR")+2},model:{value:t.setting.alarm2,callback:function(e){t.$set(t.setting,"alarm2",e)},expression:"setting.alarm2"}})],1),s("div",{staticClass:"col-6"},[s("q-checkbox",{staticClass:"fontsize-20",attrs:{label:t.$t("W_AL_OUT_STR")+2},model:{value:t.setting.out2,callback:function(e){t.$set(t.setting,"out2",e)},expression:"setting.out2"}})],1)]),s("div",{staticClass:"row screen-row checkboxesa"},[s("div",{staticClass:"col-6"},[s("q-checkbox",{staticClass:"fontsize-16",attrs:{label:t.$t("EMAIL_STR")},model:{value:t.setting.email,callback:function(e){t.$set(t.setting,"email",e)},expression:"setting.email"}})],1)]),s("div",{staticClass:"row screen-row alram-content"},[s("div",{staticClass:"col-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.setting.maxvalue,expression:"setting.maxvalue"}],staticClass:"inputbox fontsize-8",attrs:{type:"text"},domProps:{value:t.setting.maxvalue},on:{input:[function(e){e.target.composing||t.$set(t.setting,"maxvalue",e.target.value)},t.onInputChangeMax],focus:function(e){t.showkeyboardMax=!0},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closAllKeyboards()}}}),s("div",{staticClass:"keyboard-container"},[1==t.showkeyboardMax?s("input",{directives:[{name:"model",rawName:"v-model",value:t.setting.maxvalue,expression:"setting.maxvalue"}],ref:"num",staticClass:"inputbox fontsize-8",class:{error:t.validNumber},staticStyle:{"background-color":"#FFF"},attrs:{type:"text"},domProps:{value:t.setting.maxvalue},on:{input:[function(e){e.target.composing||t.$set(t.setting,"maxvalue",e.target.value)},t.onInputChangeMax],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closAllKeyboards()}}}):t._e(),1==t.validNumber?s("span",{staticClass:"invalidemail"},[t._v("Write Number 1~999")]):t._e(),1==t.showkeyboardMax?s("SimpleKeyboard",{staticClass:"item",staticStyle:{"background-color":"#FFF"},attrs:{input:t.setting.maxvalue},on:{onChange:t.onChangeMax,onKeyPress:t.onKeyPressMax}}):t._e()],1)]),s("div",{staticClass:"col-5 fontsize-12",staticStyle:{"padding-top":"5px","padding-left":"10px"}},[t._v("\n              "+t._s(t.$t("SAM_MAX_STR"))+"Â #\n            ")]),s("div",{staticClass:"col-6 fontsize-12",on:{click:function(e){return t.enableButton()}}},[s("button",{staticClass:"fontsize-8",staticStyle:{width:"50px"}},[1==t.setting.enable?s("span",[t._v("\n                  "+t._s(t.$t("TGL_ON_STR"))+"\n                ")]):t._e(),0==t.setting.enable?s("span",[t._v("\n                  "+t._s(t.$t("TGL_OFF_STR"))+"\n                ")]):t._e()]),t._v("\n              "+t._s(t.$t("ENABLE_STR"))+"\n            ")])]),s("div",{staticClass:"row screen-row"},[s("div",{staticClass:"col-4"},[s("p",{staticClass:"fontsize-12"},[t._v(t._s(t.$t("EMAIL_STR"))+":")])]),s("div",{staticClass:"col-8"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.emailText,expression:"emailText"}],staticClass:"inputbox fontsize-12",class:{error:t.hasError},attrs:{type:"email"},domProps:{value:t.emailText},on:{input:[function(e){e.target.composing||(t.emailText=e.target.value)},t.onInputChange],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterPressed()},focus:function(e){t.showkeyboard=!0}}})]),s("div",{staticClass:"keyboard-container"},[1==t.showkeyboard?s("input",{ref:"input",staticClass:"inputbox fontsize-12",class:{error:t.hasError},staticStyle:{"background-color":"#FFF"},attrs:{type:"email",placeholder:"Email"},domProps:{value:t.input},on:{input:t.onInputChange,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterPressed()}}}):t._e(),1==t.invalidEmail&&1==t.hasError?s("span",{staticClass:"invalidemail"},[t._v("Invalid Email")]):t._e(),1==t.showkeyboard?s("SimpleKeyboard",{staticClass:"item",staticStyle:{"background-color":"#FFF"},attrs:{input:t.input},on:{onChange:t.onChange,onKeyPress:t.onKeyPress}}):t._e()],1)]),s("div",{staticClass:"row container-left-right nav-bar"},[s("div",{staticClass:"col"},[s("button",{staticClass:"nav-button"},[s("i",{staticClass:"fa fa-chevron-left margin-right-10",attrs:{"aria-hidden":"true"}}),t._v("\n                "+t._s(t.$t("PREV_STR"))+"\n              ")])]),s("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"center"}},[s("button",{staticClass:"nav-button",on:{click:t.home}},[s("i",{staticClass:"fa fa-home margin-right-10",attrs:{"aria-hidden":"true"}}),t._v("\n                "+t._s(t.$t("W_HOME_STR"))+"\n              ")])]),s("div",{staticClass:"col"})])])])])])],1)},i=[],n=(s("4917"),s("0aec")),o={name:"Alarms",components:{SimpleKeyboard:n["a"]},data:function(){return{input:"",error:"",enableOff:!1,validNumber:!1,hasError:!1,invalidEmail:!1,showkeyboard:!0,showkeyboardMax:!1,model:localStorage.getItem("savedSelected"),emailText:localStorage.getItem("SavedEmail"),setting:{alarm1:!1,alarm2:!1,out1:!1,out2:!1,email:!1,maxvalue:"",enable:!1},options:[this.$t("M_SENSORS_STR"),this.$t("SAM_LSEN_STR"),this.$t("SAM_LIMSW_STR"),this.$t("SAM_CAN_STR"),this.$t("SAM_MAX_STR"),this.$t("SAM_TEMP_STR")]}},methods:{closAllKeyboards:function(){0==this.hasError&&0==this.validNumber&&(this.showkeyboard=!1,this.showkeyboardMax=!1)},enableButton:function(){this.setting.enable=!this.setting.enable,1==this.enableOn&&localStorage.setItem("enable",!0),0==this.enableOn&&localStorage.setItem("enable",!1)},home:function(){this.$router.push({path:"/"})},isEmail:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/;return!!t.match(e)},onChange:function(t){this.input=t,!1===this.isEmail(t)?(this.hasError=!0,this.invalidEmail=!0):this.hasError=!1,0===this.input.length&&(this.error=!1)},onChangeMax:function(t){this.setting.maxvalue=t},onInputChange:function(t){this.input=t.target.value,!1===this.isEmail(this.input)?this.error=!0:this.error=!1,0===this.input.length&&(this.error=!1)},onInputChangeMax:function(t){this.setting.maxvalue=t.target.value},onKeyPress:function(t){console.log("button",t),"{enter}"==t&&(1==this.hasError&&(this.invalidEmail=!0),0==this.hasError&&(this.showkeyboard=!1,this.invalidEmail=!1))},onKeyPressMax:function(t){console.log("button",t),"{enter}"==t&&this.setting.maxvalue.length<=3&&!isNaN(this.setting.maxvalue)&&(this.showkeyboardMax=!1,this.validNumber=!1),"{enter}"==t&&isNaN(this.setting.maxvalue)&&(this.validNumber=!0)}},watch:{"setting.enable":function(){localStorage.setItem(this.model,JSON.stringify(this.setting))},"setting.maxvalue":function(){var t=this.setting.maxvalue;this.$refs.num.focus(),isNaN(t)&&(this.validNumber=!0),isNaN(t)||(this.validNumber=!1),localStorage.setItem(this.model,JSON.stringify(this.setting))},emailText:function(){localStorage.setItem("SavedEmail",this.emailText)},"setting.email":function(){localStorage.setItem(this.model,JSON.stringify(this.setting))},"setting.out2":function(){localStorage.setItem(this.model,JSON.stringify(this.setting))},"setting.out1":function(){localStorage.setItem(this.model,JSON.stringify(this.setting))},"setting.alarm2":function(){localStorage.setItem(this.model,JSON.stringify(this.setting))},"setting.alarm1":function(){localStorage.setItem(this.model,JSON.stringify(this.setting))},model:function(){localStorage.setItem("savedSelected",this.model),this.setting=JSON.parse(localStorage.getItem(this.model))},input:function(t){this.input=t,this.emailText=t,this.$refs.input.focus()}},mounted:function(){var t=this.options,e=this.setting,s=this.model;null!=s&&(this.setting=JSON.parse(localStorage.getItem(s)));for(var a=0;a<=6;a++)1==!localStorage.getItem(this.options[a])&&localStorage.setItem(t[a],JSON.stringify(e)),0==!localStorage.getItem(this.options[a])&&(this.showkeyboard=!1);this.$refs.input.focus()},created:function(){var t=this;window.addEventListener("keydown",function(e){"Escape"==e.key&&(0==t.hasError&&0==t.validNumber&&t.closAllKeyboards(),1==t.hasError&&(t.invalidEmail=!0))})}},l=o,r=s("2877"),c=Object(r["a"])(l,a,i,!1,null,null,null);e["default"]=c.exports},4917:function(t,e,s){"use strict";var a=s("cb7c"),i=s("9def"),n=s("0390"),o=s("5f1b");s("214f")("match",1,function(t,e,s,l){return[function(s){var a=t(this),i=void 0==s?void 0:s[e];return void 0!==i?i.call(s,a):new RegExp(s)[e](String(a))},function(t){var e=l(s,t,this);if(e.done)return e.value;var r=a(t),c=String(this);if(!r.global)return o(r,c);var u=r.unicode;r.lastIndex=0;var d,m=[],h=0;while(null!==(d=o(r,c))){var g=String(d[0]);m[h]=g,""===g&&(r.lastIndex=n(c,i(r.lastIndex),u)),h++}return 0===h?null:m}]})}}]);